# day01: 開発環境

## 1.Python

「Python」(パイソン)には２つの意味があります．（蛇の種類の意味以外に）

1. プログラミング言語
2. インタプリタ・コマンド（実行ファイル）

本来は上記1のプログラミング言語であるPython語のことですが，このPython語で書かれたソースコードを読んでアプリケーション化するコマンドもまたpythonと読んでいます．

ともあれ，自分のPCにpythonコマンドをインストールしましょう．

...とその前に，プログラミング演習Ⅰで既にインストールしていましたね．でも，本当に今もそのままですか？　

- あとでanacondaとかインストールしたりしていませんか？
- 環境変数PATHとかをいじったりしていませんか？

今後のプログラミング演習Ⅱの進行のために，全員の開発環境を同じものにしたく，まず，現在インストールしてあるすべてのpythonコマンドをアンインストールしたいと思います．

### 1.1. pythonコマンドの種類

windowsで，`python`　とコマンドラインで打ったときに呼び出される`python.exe`は，典型的には次の3つです．

1. MS python    : Microsoft Store から入手したもの
2. Anaconda python : Anaconda に付属してきたもの
3. 素 python      : 公式サイト python.org から入手したもの

とりあえず，コマンドプロンプトやパワーシェルなどのターミナル端末で，`python -VV`と打ってみると，どのpythonが呼び出されたかわかります．(Vは2つです)

`python -VV`と打って，見つからないとエラーが出る人は`py -VV`と打ってみてください．

MS Pythonの場合は，
```
```

Anaconda pythonの場合は，
```
```

素pythonの場合は，
```
```

私はMacbook Airですが，`python -VV`と打ってみると，
```
Python 3.10.0 (default, Mar 12 2022, 12:49:49) [Clang 13.0.0 (clang-1300.0.29.30)]
```
となりました．これは素Pythonです．

さきほどコマンドプロンプトで試した人は，パワーシェルでも試してみてください．もしくはAnacondaターミナルなるものがメニューにある人は，それも試してみるといいかもしれません．

ここで出てきた種類だけのPythonがあなたのPCにはインストールされているということです．

では，このpythonたちをアンインストールします．

1. 上記の確認作業で，Anaconda pythonの存在が確認された人は，最初にanacondaをアンインストールします．Anacondaをインストールした覚えのない人も念の為に次のコマンドをどこかで動かしてください．

> conda install -c anaconda anaconda-clean
> anaconda-clean

2. 一般的にWindowsでインストールしたものはギアアイコンの「設定」から「アプリと機能」，「python」を検索すると出てきます．ここでアンインストールを選びます．複数見つかることもあります．

3. 環境変数のPATHにpythonに関する記述があれば，その部分を削除します．

### 1.2. pythonコマンドのインストール

ぶっちゃけ何でも構いませんが，皆と同じ環境にしたいなら，演習Ⅱでは「素python」をおすすめします．すなわち公式サイト　https://www.python.org/ からインストールしてください．

その際にPATHの設定を加えるか聞かれるかもしれませんが，「いいえ」です．また，インストール後に手動でPATHの設定を加える必要もありません．

**windowsの人は，今後，pythonコマンドは`python`ではなく，`py`を使います．**

- `python foo.py`ではなく，  `py foo.py` です．
- `python -m mod` ではなく，`py -m mod`　です．
- `python -VV`　ではなく，`py -VV`です．

(macの人向けのお話）
```
> brew install pyenv
> pyenv install 3.10
> pyenv global 3.10
```

## 2. vscode

### 2.1. vscodeの使い方

vscodeはエディタですが，プログラミングに特化したエディタです．

プログラミングでは，あるアプリケーションを作ろうとなった場合に，
「プロジェクト」と呼ぶフォルダを作り，その中にソースコードやらリソースファイル（アイコンや画像や音楽ファイルなど），説明書(Readme)，ライセンス(License)を入れます．

vscodeでは，ファイルを一つ一つ開くのではなく，この「プロジェクト」のフォルダを開きます．

フォルダを開いたあと，そのフォルダルート（根っこ）を起点として，その下にあるソースコードを編集したり，ファイルを加えたり削除したりの整理をしたりします．

## 3. poetry

演習ⅠやWeb上のいろんなサイトで，numpyその他のパッケージをインストールする際に`pip`や`conda`を使っているかもしれませんが，この演習Ⅱでは`poetry`を使います．

まず，poetryをインストールしましょう．

> `py -m pip install poetry`

macやlinuxの人は，`python -m pip install poetry`

### 3.1. poetry の使い方

poetryは単なるパッケージインストーラではなく，むしろ「プロジェクト」フォルダのマネージャです．

何はともあれ，最初に次のようにしてください．

`poetry config virtualenvs.in-project true`

なにか始めるときには，とりあえずプロジェクトフォルダを作ります．これはエクスプローラでもいいでしょう．

コマンドプロンプトで，このフォルダに移動したあと，

`poetry init`

と打ちます．すると，いろいろ聞かれますが，適切に答えると，フォルダの中に`pyproject.toml`というファイルが作られます．

続けて，

`poetry shell`

と打ちます．すると，コマンドプロンプトの先頭が(.venv)となるでしょう．

`exit`

と打つと，もとの状態に戻ります．

なにかパッケージを入れたいとき，例えば`numpy`を入れたいときは，普通の状態で

`poetry add numpy`

などとします．そうすると，(.venv)環境で`import numpy`が可能になります．

vscodeでプロジェクトを開き，pythonソースコードを編集しようとすると，インタプリタを聞かれます．このときには，`./.venv/bin/python.exe`を選ぶようにします．















