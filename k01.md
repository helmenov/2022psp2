# day01: 開発環境

プログラミングの一番の基盤は，IDE（開発環境）である．IDEとは

1. Code Editor
    - ソースコードを書くソフトウェア
2. Debugger(Linter, Fomatter, Tester)
    - ソースコードのバグを発見するソフトウェア
3. Interpreter(Compiler,Builder)
    - ソースコードを実行するソフトウェア
の3種のソフトウェアである．

## 1.Python

「Python」(パイソン)には２つの意味があります．（蛇の種類の意味以外に）

1. プログラミング言語
2. インタプリタ・コマンド（実行ファイル）

本来は上記1のプログラミング言語であるPython語のことですが，このPython語で書かれたソースコードを読んでアプリケーション化するコマンドもまたpythonと読んでいます．

ともあれ，自分のPCにpythonコマンドをインストールしましょう．

...とその前に，プログラミング演習Ⅰで既にインストールしていましたね．でも，本当に今もそのままですか？　

- あとでanacondaとかインストールしたりしていませんか？
- 環境変数PATHとかをいじったりしていませんか？

今後のプログラミング演習Ⅱの進行のために，全員の開発環境を同じものにしたく，まず，現在インストールしてあるすべてのpythonコマンドをアンインストールしたいと思います．

### 1.1. pythonコマンドの種類

windowsで，`python`　とコマンドラインで打ったときに呼び出される`python.exe`は，典型的には次の4つです．

0. MS Python（ダミー） : Windowsに最初から入っているもの
1. MS python    : Microsoft Store から入手したもの
2. Anaconda python : Anaconda に付属してきたもの
3. 素 python      : 公式サイト python.org から入手したもの

これらは，インストール先をいじっていなければ，デフォルトのインストール先が決まっています．

> **0. MS Pyton（ダミー）**
> - exeファイルの場所は
> > %LOCALAPPDATA%\Microsoft\WindowsApp\python.exe
> - これはアプリケーション本体ではありません．ただのショートカットです．この`python`を呼ぶと，Microsoft StoreのPythonのページが立ち上がります．「入手」を押すと，1のMS Pythonを入手することになります．
> - 1のMS Pythonをインストールしたあとは，このショートカットの先は「Microsoft StoreのPythonページ」から「1のMS Python」に変わります．


> **1. MS Python本体**
> - exeファイルの場所は 
> > %LOCALAPPDATA%\Microsoft\WindowsApp\PythonSoftwareFoundation.Python(Version)***\python.exe
> - MicosoftStore版python （↓のCの不完全版）
> - 端末で何の気なしに `python` と打つと連れていかれるMicrosoftStoreのPython売り場で手に入れるPython本体


> **2のAnaconda python**
> - exeファイルの場所は
> > %USERPROFILE%\anaconda3\Scripts\python.exe

> **3の素Python**
> - exeファイルの場所は
> > %LOCALAPPDATA%\Programs\Python\Python(Version)\python.exe

コマンドプロンプトで，それぞれの場所，
```
> %LOCALAPPDATA%\Microsoft\WindowsApp\python.exe
```
などと打ってみてください．

ここで出てきた種類だけのPythonがあなたのPCにはインストールされているということです．

では，このpythonたちをアンインストールします．

1. 上記の確認作業で，Anaconda pythonの存在が確認された人は，最初にanacondaをアンインストールします．Anacondaをインストールした覚えのない人も念の為に次のコマンドをどこかで動かしてください．

```
> conda install -c anaconda anaconda-clean
> anaconda-clean
```

2. 一般的にWindowsでインストールしたものはギアアイコンの「設定」から「アプリと機能」，「python」を検索すると出てきます．ここでアンインストールを選びます．複数見つかることもあります．

3. 環境変数のPATHにpythonに関する記述があれば，その部分を削除します．

### 1.2. pythonコマンドのインストール

ぶっちゃけ何でも構いませんが，皆と同じ環境にしたいなら，演習Ⅱでは「素python」をおすすめします．すなわち公式サイト　https://www.python.org/ からインストールしてください．

**その際にPATHの設定を加えるか聞かれるかもしれませんが，「いいえ」です．また，インストール後に手動でPATHの設定を加える必要もありません．**

**windowsの人は，今後，pythonコマンドは`python`ではなく，`py`を使います．**

- `python foo.py`ではなく，  `py foo.py` です．
- `python -m mod` ではなく，`py -m mod`　です．
- `python -VV`　ではなく，`py -VV`です．

(macの人向けのお話）
```
> brew install pyenv
> pyenv install 3.10
> pyenv global 3.10
```

## 2. vscode

### 2.1. vscodeの使い方

vscodeはエディタですが，プログラミングに特化したエディタです．

プログラミングでは，あるアプリケーションを作ろうとなった場合に，
「プロジェクト」と呼ぶフォルダを作り，その中にソースコードやらリソースファイル（アイコンや画像や音楽ファイルなど），説明書(Readme)，ライセンス(License)を入れます．

vscodeでは，ファイルを一つ一つ開くのではなく，この「プロジェクト」のフォルダを開きます．

フォルダを開いたあと，そのフォルダルート（根っこ）を起点として，その下にあるソースコードを編集したり，ファイルを加えたり削除したりの整理をしたりします．

## 3. poetry

演習ⅠやWeb上のいろんなサイトで，numpyその他のパッケージをインストールする際に`pip`や`conda`を使っているかもしれませんが，この演習Ⅱでは`poetry`を使います．

まず，poetryをインストールしましょう．

> `py -m pip install poetry`

macやlinuxの人は，`python -m pip install poetry`

インストールの最後に，「PATHに〜を追加せよ」と表示されるので，「虫眼鏡」アイコンから「環境変数」を検索し，「環境変数を編集」から
PATHについて「新規」で上記の「〜」の部分を追加してください．

### 3.1. poetry の使い方

poetryは単なるパッケージインストーラではなく，むしろ「プロジェクト」フォルダのマネージャです．

何はともあれ，最初に次のようにしてください．

`poetry config virtualenvs.in-project true`

**プロジェクトを始めるときには，**

0. とりあえずプロジェクトフォルダを作ります．これはエクスプローラでもいいでしょう．
1. プロジェクトフォルダの整理

コマンドプロンプトで，このフォルダに移動(`cd foo`)したあと，
```
> poetry init
```
と打ちます．すると，いろいろ聞かれますが，適切に答えると，フォルダの中に`pyproject.toml`というファイルが作られます．
2. プロジェクトフォルダの仮想環境作成

続けて，
```
> poetry shell
```
と打ちます．すると，コマンドプロンプトの先頭が(.venv)となるでしょう．
3. プロジェクトフォルダの仮想環境から抜ける
```
> exit
```
と打つと，もとの状態に戻ります．

**なにかパッケージを入れたいとき**

例えば`numpy`を入れたいときは，**普通の状態で(.venv環境ではない）**
```
> poetry add numpy`
```
などとします．そうすると，(.venv)環境で`import numpy`が可能になります．

**vscodeでコーディング**

vscodeでプロジェクトを開き，pythonソースコードを編集しようとすると，インタプリタを聞かれます．このときには，`./.venv/bin/python.exe`を選ぶようにします．


## 「プロジェクト」とは何か？(名付け問題)

というわけで，「プロジェクト名」（フォルダ名）を考えるところから始めるのですが，それってどんなタイミングなのでしょうか？どんな名前がよいのでしょうか？

実は，この先，プログラミングには様々な「名付け」の機会に遭遇します．

- 変数の名付け
- クラス（型）の名付け
- 関数・メソッドの名付け
- ...

とりあえずは，コンピュータにおいて，ファイル名とかフォルダ名とか自分で考えますよね．名前つけないと保存できないですからね．

どのように名前をつけていますか？たとえば今回の演習のものならどうしますか？

「`プログラミング演習2`」というフォルダを作るかな

その下に，「`20220413`」というフォルダを作るかな？それとも「`day01`」かな？それとも今日の内容はIDEだから「`IDE`」というフォルダ名かな？おそらく皆さん三者三様ですね．

まぁ，そんな今日のフォルダを作ったら，その下にソースコードを置きますね．そのソースコードの名前は？？

「`main.py`」??いいかもしれない．だけど他のフォルダに同じ名前のソースコードがあっていいのか？`python.exe`が複数あると困るって話があったばかりじゃないか？（←仮想環境）

そのソースコード`main.py`を今日書き始めた．でも来週までに何度か書き直したり，試行錯誤したりするね．そのたびに上書きしちゃう？？書き直す前のファイルを残して，そのコピーを編集するのかな？そのコピーの名前は？？

さっき`main.py`だったから`main1.py`...`main5.py`みたいな？？（←世代管理，履歴管理）

### 「名付け」で気をつけること

大前提として，プログラミングは**1人で行うものではなく，チームで行うものです．**

よって，ファイルやフォルダ，変数，クラス，関数などの「名前」はチームで共通にするものです．もしチームを組んでなくとも，将来的に他の人に見せて共同でプログラミングすることを見越して「名前」を決めます．
他の人がその名前を見て「わけわからない」ようにならない名前にしてください．ついでに言うと，未来の自分は他人ですので，未来の自分が見ても十分わかる名前にしましょう．


















